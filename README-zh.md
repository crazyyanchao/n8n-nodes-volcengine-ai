# n8n-nodes-volcengine-ai

[![English](https://img.shields.io/badge/English-Click-yellow)](README.md)
[![中文文档](https://img.shields.io/badge/中文文档-点击查看-orange)](README-zh.md)

这是一个n8n社区节点，让您可以在n8n工作流中使用火山引擎（VolcEngine）的AI服务，包括聊天完成和代码补全功能。

本节点支持以下火山引擎AI服务：
- **聊天完成（Chat Completion）**: 提供智能对话能力，支持多轮对话和丰富的参数配置
- **FIM完成（Fill-In-the-Middle）**: 提供代码补全和填充功能，支持代码中的中间部分填充

通过这个节点，您可以轻松将火山引擎的AI能力集成到您的自动化工作流中，实现智能对话、内容生成、代码辅助等功能。

[n8n](https://n8n.io/) 是一个[公平代码许可](https://docs.n8n.io/reference/license/)的工作流自动化平台。

[安装](#安装)  
[操作](#操作)  
[凭据](#凭据)  
[兼容性](#兼容性)  
[使用说明](#使用说明)  
[资源](#资源)  
[版本历史](#版本历史)  

## 安装

按照n8n社区节点文档中的[安装指南](https://docs.n8n.io/integrations/community-nodes/installation/)进行安装。

另外，你也可以参考使用这些[n8n工作流模板](https://github.com/crazyyanchao/n8n-workflow-template)。

## 操作

此节点支持以下资源类型和操作：

### 聊天完成（Chat Completion）
- **完成对话**: 创建模型响应，支持多轮对话
  - 支持系统消息、用户消息和助手消息
  - 动态加载可用的AI模型
  - 丰富的参数配置选项
  - 支持简化输出模式

### FIM完成（Fill-In-the-Middle Completion）
- **代码补全**: 创建代码填充完成
  - 支持代码中的中间部分填充
  - 可配置前缀和后缀文本
  - 支持多种代码补全场景
  - 提供代码生成和编辑功能

### 高级参数配置
- **温度控制**: 控制生成内容的随机性（0-1）
- **最大令牌数**: 设置生成内容的最大长度（最多32768）
- **频率惩罚**: 减少重复内容的生成（-2到2）
- **存在惩罚**: 鼓励模型讨论新话题（-2到2）
- **Top-P采样**: 控制核采样多样性（0-1）
- **响应格式**: 自定义输出格式
- **日志概率**: 返回输出令牌的概率信息

## 凭据

要使用此节点，您需要：

1. **注册火山引擎账户**: 访问 [火山引擎官网](https://www.volcengine.com/) 注册账户
2. **开通AI服务**: 在火山引擎控制台开通AI相关服务
3. **获取API密钥**: 在火山引擎控制台创建API Key
4. **配置凭据**: 在n8n中配置火山引擎AI凭据

### 认证方法
- **API Key认证**: 使用火山引擎API Key进行API调用
- **自动认证**: 节点会自动在请求头中添加Authorization信息

## 使用说明

### 基本使用流程

1. **安装节点**: 按照安装指南安装此社区节点
2. **配置凭据**: 在n8n中配置火山引擎AI API凭据
3. **创建工作流**: 在n8n工作流中添加VolcEngine AI节点
4. **选择资源类型**: 选择"Chat"或"FIM"资源类型
5. **配置参数**: 根据需求配置模型、提示词等参数
6. **执行工作流**: 运行工作流获取AI响应

### 聊天完成使用示例

- **单轮对话**: 直接输入用户消息
- **多轮对话**: 添加多条消息，包括系统、用户和助手消息
- **参数调节**: 根据需要调整温度、最大令牌数等参数

### FIM完成使用示例

- **代码补全**: 输入代码前缀，让AI完成后续代码
- **代码填充**: 提供代码的前缀和后缀，让AI填充中间部分
- **代码生成**: 根据描述生成完整的代码片段

## 兼容性

- **最低n8n版本**: 1.0.0
- **Node.js版本**: >=20.15
- **测试版本**: n8n 1.0.0+

## 资源

* [n8n社区节点文档](https://docs.n8n.io/integrations/#community-nodes)
* [火山引擎AI服务文档](https://www.volcengine.com/docs/82379/1099475)
* [火山引擎AI API参考](https://www.volcengine.com/docs/82379/1099475)
* [火山引擎官网](https://www.volcengine.com/)
* [n8n工作流模板](https://github.com/crazyyanchao/n8n-workflow-template)

## 版本历史

### v0.1.0 (当前版本)
- **初始版本发布**
- **聊天完成功能**
  - 支持多轮对话，包括系统、用户和助手消息
  - 动态加载可用的AI模型列表
  - 丰富的参数配置：温度、最大令牌数、频率惩罚等
  - 支持简化输出模式
  - 完整的错误处理机制
- **FIM完成功能**
  - 支持代码补全和填充功能
  - 可配置前缀和后缀文本
  - 支持代码中的中间部分填充
  - 提供代码生成和编辑能力
- **高级特性**
  - 统一的API认证机制
  - 自动错误处理和状态码检查
  - 响应数据格式化
  - 支持多种输出格式

---

**注意**: 使用此节点需要有效的火山引擎账户和AI服务权限。请确保遵守火山引擎的使用条款和API调用限制。请根据实际使用情况配置相应的访问权限。
